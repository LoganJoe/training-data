T1 把R看成0，B看成1，栈顶看成二进制下最低位，每次操作相当于让这个二进制数减1，做进制转换即可求出答案
T2 对于一个煤矿，挖它相当于让之后的ai都乘上(1-k%)，用f[i]表示从i开始走的最大收益，f[i]=max(f[i+1],f[i+1]*(1-k%)+a[i])，补给站的转移同理
T3 枚举循环节长度L，分两种情况讨论：1.删掉的字符不在[1,L]中，用hash判断之后每段是否与[1,L]相同，出现第一个不同时，二分出第一个不同的字符删掉，之后继续判断即可；2.删掉的字符在[1,L]中，循环节必然为[L+2,L+L+1]，同理判断即可。对于一个L需要判断O(n/L)次以及二分O(1)次，根据调和级数，总时间复杂度O(nlogn)。