---
title: " DTOJ3981想象一下\t\t"
tags:
  - 二分
  - 树形dp
url: 4909.html
id: 4909
categories:
  - Solution
date: 2018-10-31 23:01:46
---

考场上想了一个假的然后觉得很靠谱，直到最后五分钟才发现...这个东西的答案显然是可以二分的。考虑如何check。 对于每个点算出该点往下的最长链，假设这个最长链大于二分的mid，那么这个点的一条边肯定要被剪。因为越靠上的一条边贡献肯定越大，而拉到一个点以后，假设要剪当前这条边，前面耗时肯定都是mid，也就是说子树中的点肯定被拉到这个点上。 然后计算一下整棵树被剪了几次就可以check了。 时间效率是nlogn的。之前那个真的不靠谱。