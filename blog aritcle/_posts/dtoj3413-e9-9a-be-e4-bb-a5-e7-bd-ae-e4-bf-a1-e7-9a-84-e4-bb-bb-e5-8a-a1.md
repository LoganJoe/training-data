---
title: " DTOJ3413难以置信的任务\t\t"
tags:
  - 二分图
  - 思路
url: 5440.html
id: 5440
categories:
  - DTOJ
  - Solution
date: 2018-12-10 22:52:52
---

要让三视图不变，即保证每行/每列的最大值不变，且原来有格子的位置一定要有格子，没有格子的位置一定不能有格子。 我们先把每个位置的箱子拿到只剩一个，然后再考虑如何放回最少的箱子使得每行/每列的最大值不变。 记第$i$行的最大值为$A\_i$，第$i$列的最大值为$B\_i$。我们放回$\\left (\\sum_{i=1}^{n}A\_i-1\\right )+\\left (\\sum\_{i=1}^{m}B\_i-1\\right )$个箱子一定可行。 考虑如何使一个位置一起成为行和列的最大值。 如果$A\_i=B\_j$，并且位置$(i,j)$可以放箱子，我们在$(i,j)$放回$A\_i-1$个箱子，就可以同时达到第$i$行和第$j$列的最大值，相当于放回的箱子数量可以减少$A\_i-1$。 那么我们要让减少的尽量的多。 容易看出对于不同的$A\_i,B\_i$之间彼此是独立的。 而同样的$A\_i,B_i$之间是一个匹配的问题。 即在一边$n$个点一边$m$个点的二分图上跑最大匹配。 用匈牙利算法或者最大流求出最大匹配即可。