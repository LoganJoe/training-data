---
title: " DTOJ3629染色游戏\t\t"
tags:
  - 分治
  - 斜率dp
url: 2100.html
id: 2100
categories:
  - Solution
date: 2018-05-27 18:23:58
---

我们可以轻易的写出一个dp式子：设$f\_i$表示第i个位置染色，$1-i$的美观度的最大值。则有$f\_i=max\\{f\_j+a\_j-\\frac{(i-j)(i-j-1)}{2} \\},j<i,a\_j<a\_i$。 我们发现，如果不考虑$a\_j<a\_i$的限制，那么这个dp显然是可以用斜率优化的。那么我们考虑分治解决。每次分治两侧，用较小的$a\_j$去更新较大的$a\_i$。数据范围貌似有点歧视std::sort，于是我们可以归并排序，用一个数组记录下每一层排序的结果。