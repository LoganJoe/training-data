---
title: " DTOJ3951失意\t\t"
tags:
  - 思路
url: 4413.html
id: 4413
categories:
  - DTOJ
  - Solution
date: 2018-10-23 18:07:43
---

显然若干个区间的交的端点也是这若干个区间的端点。 那么我们可以枚举交的端点。 这里我们考虑枚举交的左端点。那么就是要求最大的右端点。 假设交的左端点是第$i$个区间的左端点$x$，那么剩下$M-1$个区间，都一定要跨过$x$。 也就是说，我们要找$M-1$个区间，满足区间左端点$\\leq x$，右端点$\\geq x$。同时要最大化最小的右端点。 那么就是在满足条件的区间中选右端点前$M-1$大的。 问题就变成如何维护满足条件的区间了。 对于所有区间按左端点从小到大排序，那么如果枚举到了第$i$个区间的左端点，可能满足条件的区间一定都在$i$之前。 那么我们在$i$之前的所有区间取右端点前$M-1$大的，判断合不合法即可。 维护前$M-1$大的右端点，可以用一个大小为$M-1$的小根堆，每次拿要加入的右端点和堆顶比大小。 注意特判无解和$M=1$的情况。