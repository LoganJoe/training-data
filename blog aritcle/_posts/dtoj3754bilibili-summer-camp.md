---
title: " DTOJ3754Bilibili Summer Camp\t\t"
tags:
  - 奇技淫巧
  - 状压dp
url: 2366.html
id: 2366
categories:
  - DTOJ
  - Solution
date: 2018-06-14 22:02:57
---

题目不明差评。傻逼出题人。 大概就是要你从$\[2,n\]$中选择$\\leqslant k$个数，满足这些数的乘积不含平方因子，求选择的方案数。 考虑不存在平方因子有什么限制。 显然每个数只能选一次，然后选的数不能有平方因子，并且选出的数要两两互质。 先考虑一下比较暴力的写法。 我们筛出所有的质因子，然后把已经选的质因子状压起来dp，即记$f\[i\]\[j\]\[S\]$为前$i$个数选$j$个，已选的质因子状态为$S$的方案数。 但这样状态太大了。 发现$>\\sqrt{n}$的因子，在每个数中至多出现一个。对于含$\\sqrt{n}$质因子的数，我们只需要按含的质因子分类，每一类只能选一个，拿去做dp即可。 对于$\\leqslant \\sqrt{n}$的质因子，发现只有$8$个。那么我们这部分可以直接做之前的状压dp。