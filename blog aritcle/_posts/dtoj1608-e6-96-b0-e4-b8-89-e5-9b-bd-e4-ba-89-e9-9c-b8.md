---
title: " DTOJ1608新三国争霸\t\t"
tags:
  - dp
  - 思路
  - 最小生成树
url: 4975.html
id: 4975
categories:
  - DTOJ
  - Solution
date: 2018-11-01 20:59:40
---

方案变化需要额外的代价，这个很怪。 我们肯定不可能维护所有的最优方案。 这题的思路很巧妙：我们可以强行选择改变最优的方案的时间。因为如果不用改我们却当作改了一定会更劣。 记$f\[i\]$为前$i$天防守的最少的代价。 考虑在哪一天改变了方案。假设是第$j+1$天。 那么转移就是 $$f\[i\]=f\[j\]+(i-j)\\times V\\times 最少需要的士兵数+K$$ 现在就是要求最少需要的士兵数。即把所有点连起来的最小代价。 这就是一棵最小生成树。 我们预处理一下每天能用的边，然后拿这些边去求mst即可。