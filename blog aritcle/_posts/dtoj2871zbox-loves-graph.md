---
title: " DTOJ2871Zbox loves graph\t\t"
tags:
  - tarjan
url: 979.html
id: 979
categories:
  - DTOJ
  - Solution
  - 不会证
date: 2018-03-09 21:51:00
---

这道题也是很玄学。 首先同一个强连通分量中的点是可以互相到达的，所以我们可以先tarjan把原图缩成一个DAG。现在考虑DAG中从$S$是否能走到$T$。 发现这题数据都是随机的，考虑暴力一点的想法：我们可以存下每个点能到的点集。 每个点开一个bitset记下这个点能到达哪些点，记为$S$。 如果DAG中$x$到$y$有边的话，显然有$S\[x\]|=S\[y\]$。可以顺着逆拓扑序处理。 但是直接这样写的话空间和时间都不能接受。 但由于数据随机，DAG中的点数不会太多，大概只有$8e4$。 再加一点小技巧，比如说若过$S\[x\]|=S\[y\]$之前$x$已经能通过另一条路到达$y$，这个就不用重复$or$了。