---
title: " DTOJ3969pq\t\t"
tags:
  - dp
  - 思路
url: 4708.html
id: 4708
categories:
  - Solution
date: 2018-10-28 20:30:35
---

可以证明通过一个置换使得当$p$取$i$，$q$取$i$时合法，那么$p$取$i+\\Delta$，$q$取$i+\\Delta$时也合法。 排掉不合法的情况以后就可以瞎搞了。对于每个state各做一次增广，重复增广的去掉，实际增广次数是$\\Theta(2000^2)$。这样就可以直接找出可以达到的最大答案了。 其实还有dp做法，每次记一下还有多少个$p$多少个$p$没取，暴力转移。