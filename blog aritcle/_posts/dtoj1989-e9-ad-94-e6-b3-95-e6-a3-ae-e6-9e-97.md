---
title: " DTOJ1989魔法森林\t\t"
tags:
  - 思路
  - 最短路
url: 1723.html
id: 1723
categories:
  - DTOJ
  - Solution
date: 2018-04-25 14:35:00
---

从小到大枚举经过的路径中最大的$a$是多少，最大的$b$可以用最短路跑出来，然后就可以用$a+b$更新答案了。 也就是一边加边，一边跑spfa。但这样要跑$5e4$次spfa，肯定过不去。 开始疯狂剪枝。 首先，$a$相同的边我们可以一起加进来，然后跑一次spfa。 其次，对于一条$x,y$之间的双向边，如果较优的一端能更新另一端，先更新后我们再把较优的那个点加入队列。 然后就可以过了。 跑的比正解LCT还快。