---
title: " DTOJ1578枪战\t\t"
tags:
  - 思路
url: 3219.html
id: 3219
categories:
  - Solution
date: 2018-08-01 14:12:03
---

首先考虑最多怎么计算。

*   如果这个连通块只有一个人，那么这个人是自杀的，死亡人数为$1$
*   如果这个连通块是一个环，那么至少会活下来一个人，即瞄准第一个开枪的人的那个人。死亡人数为$size-1$
*   否则,除了叶节点之外其他人都可以死，死亡人数为$size-leaf$。

然后考虑最少。 最少，就是尽量让瞄准的人已经死了。

*   首先叶节点一定不能死。于是我们把叶节点加入队列，然后每取出一个点时，击杀他瞄准的人，然后如果他瞄准的人瞄准的人此时成为了一个叶节点，那么把这个人加入队列。重复计算这样的子问题。 这些击杀的人肯定是会死的。
*   最后会剩下一些环，画图可知，一个大小为$size$的环的最少死亡人数为$\\lceil \\frac{size}{2} \\rceil$