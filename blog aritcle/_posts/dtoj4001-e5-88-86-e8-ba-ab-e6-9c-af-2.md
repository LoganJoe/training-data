---
title: " DTOJ4001分身术\t\t"
tags:
  - 拓扑序
  - 最短路
url: 5220.html
id: 5220
categories:
  - Solution
date: 2018-11-22 13:19:29
---

首先一个易于想到的结论是，通过每个点的最早时间是通过其所有关键点的最早时间与到达这个点的最短时间的最大值。 通过所有关键点可以用拓扑求。将限制连边，那么按照拓扑序，每次先走过入度为0的点，入度为0才能走到这个点。而最短时间则是要用最短路解决的问题。 Dijkstra和拓扑都是基于队列的bfs。于是我们考虑将最短路和拓扑 拼 在一起。 对于当前处理到的每个点，我们删掉拓扑图上的边并更新入度。当某个点入度为0的时候就代表其可以进队。这个时候就可以更新出每个点通过其关键点的最早时间。而做最短路的时候，我们也可以更新出到每个点的最短路。于是问题就可以在Dijkstra的复杂度解决了。