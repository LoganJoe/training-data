---
title: " DTOJ2919均分\t\t"
tags:
  - 思路
url: 2512.html
id: 2512
categories:
  - DTOJ
  - Solution
date: 2018-06-16 22:18:12
---

相当于一个背包问题。或许应该叫做装箱问题。 直接做背包肯定不行。 发现$\\sum_{i=1}^{n}a\_i\\leqslant 10^6$。这说明物品体积可能会相同。 那么我们可以把体积相同的物品压在一起，变成做多重背包。多重背包可以用二进制优化再拆成普通的背包，但是物品的数量减少了。 现在我们用bitset优化一下普通的背包就可以了。 分析一下效率。我们现在认为$n=10^6$，且和$\\sum\_{i=1}^{n}a_i$同阶。 考虑体积$>\\sqrt{n}$的物品，最多只有$\\sqrt{n}$件，这部分最坏的效率是$\\Theta(\\frac{n\\sqrt{n}}{32})$，可以接受。 考虑体积$\\leqslant {n}$的物品，体积$i$最多被拆成$\\log \\frac{n}{i}$件，同样不会很多。效率也可以接受。