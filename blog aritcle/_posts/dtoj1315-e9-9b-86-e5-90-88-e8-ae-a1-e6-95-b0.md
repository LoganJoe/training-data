---
title: " DTOJ1315集合计数\t\t"
tags:
  - 容斥
url: 3098.html
id: 3098
categories:
  - DTOJ
  - Solution
date: 2018-07-28 11:13:09
---

我们先选出$K$个元素作为交集的元素，方案数为$\\binom{N}{K}$。那么接下来就是求有$N-K$个元素的集合，选出若干个子集交集为$0$的方案数。 这个可以用容斥原理来求。交集为$0$的方案数=任选-交集$\\geqslant 1$+交集$\\geqslant 2$-交集为$\\geqslant 3$+…… 而交集$\\geqslant x$的方案数就是，我们先从$N-K$中选出$x$个作为交集，然后剩下的任选即可，即 $$\\binom{N-K}{x}\\times (2^{2^{N-K-x}}-1)$$ 其中$2^{N-K-x}$是包含了特定$x$个元素的子集的个数，每个子集我们可以选或不选。但不能都不选。 从大到小枚举$x$可以省掉快速幂，但这并不重要。