---
title: " DTOJ2550神秘数\t\t"
tags:
  - 可持久化线段树
  - 思路
url: 3484.html
id: 3484
categories:
  - Solution
date: 2018-08-17 22:39:20
---

神题。

增量分析这个问题。

假设当前的集合，可以表示$\[1,x\]$之间的数，神秘数为x+1。新加入一个数y，那么分以下两种情况讨论：

*   $y \\leq x+1$，则新集合可以表示$\[1,x+y\]$内的所有数字。
*   $y>x+1$，$x+1$依旧无法被表示，所以该集合的神秘数还是$x+1$。

那么我们可持久化线段树，按照序列顺序为时间轴维护，每次查询\[l-1,r\]时间内。将所有的数按照大小排序，模拟增量过程就可以找到神秘数了。