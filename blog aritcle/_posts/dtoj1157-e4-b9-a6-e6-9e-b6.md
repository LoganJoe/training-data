---
title: " DTOJ1157书架\t\t"
tags:
  - 平衡树
url: 151.html
id: 151
categories:
  - DTOJ
  - Solution
date: 2018-01-08 08:07:00
---

显然数据结构题，我是用Splay写的。 其实前三个操作本质是一样的，都是改变一个点的位置。 我们可以把这种操作分成三步：找到这个点，删除这个点，插入到新的位置。 由于建树的时候是按下标建的，我们可以知道每种编号的树在Splay中的节点下标，于是就可以直接通过下标访问的这个点，然后把它转到根，删掉。再找到新的位置插入就可以了。 查询就是基本查询了。