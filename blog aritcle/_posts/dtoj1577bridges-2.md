---
title: " DTOJ1577Bridges\t\t"
tags:
  - 二分
  - 最大流
  - 欧拉回路
url: 4716.html
id: 4716
categories:
  - DTOJ
  - Solution
date: 2018-10-28 22:23:14
---

直接不好求答案，我们考虑二分一个$mid$，然后判断是否可行。 即我们要给一个混合图的边定向，使得存在一条欧拉回路，且所有边都$\\leq mid$。 我们只用对两个方向都$\\leq mid$的边考虑定向。 有向图的欧拉回路存在当且仅当图连通，且每个点的入度都等于出度。 我们先给每条边随意地定一个方向，然后算出每个点的入度减出度，记为$val\_i$。 如果某个点的$val$为奇数，那么一定无解。因为把一条边反向对这个点的$val\_i$的影响是$\\pm 2$或者$0$，这样无论如何都不能使一个奇数变成$0$。 然后我们考虑用网络流来判断是否存在欧拉回路。 对于$val\_i>0$的点$i$，由$S$到$i$连一条容量为$\\frac{val\_i}{2}$的边，代表从这个点出去的边需要反向$\\frac{val\_i}{2}$条。 对于$val\_i<0$的点$i$，由$i$到$T$连一条容量为$\\frac{-val\_i}{2}$的边，代表到达这个点的边需要反向$\\frac{-val\_i}{2}$条。 对于一条被定成$u\\rightarrow v$的无向边，由$u$向$v$连一条容量为$1$的边，代表这条边可以反向一次。 然后求出最大流，如果最大流等于$\\frac{\\sum_{i=1}^{n}\[val\_i>0\]val\_i}{2}$，就存在一条欧拉回路，否则就不存在。