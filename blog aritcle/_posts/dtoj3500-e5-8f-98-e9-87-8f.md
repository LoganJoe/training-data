---
title: " DTOJ3500变量\t\t"
tags:
  - 最小割
url: 215.html
id: 215
categories:
  - DTOJ
  - Solution
date: 2018-01-10 15:26:57
---

（据说最小割的模型很裸，然而并没有想到） 每个变量和$S$，$T$各连一条边，割$S$表示选$W$，割$T$表示选$-W$。式子$d$，$e$，$f$的代价可以直接拆开算。对于绝对值的$a$，$b$，$c$，发现只有$x$，$y$一正一负才会产生额外的代价$2Wa$。因此$x$与$y$之间连上权值为$2Wa$的边，这样如果$x$，$y$选择了异号就需要割掉这条边。 现在考虑限制。如果要求$w\[x\]\\leqslant w\[y\]$，则$x$选$W$时$y$不能选$-W$，就由$y$向$x$连$inf$的边，表示这种情况不可行。如果要求$w\[x\]=w\[y\]$，则$x$和$y$之间连$inf$的边。如果要求$w\[x\]<w\[y\]$，则$x$一定得选$-W$，$y$一定得选$W$，那就$S$向$x$连$inf$边，$y$向$T$连$inf$的边。 用最大流求出最小割就是答案了。