---
title: " DTOJ2602魔卡少女\t\t"
tags:
  - 线段树
url: 3845.html
id: 3845
categories:
  - Solution
date: 2018-09-06 19:40:45
---

既然是异或。我们可以按位考虑。对于每个位置建一棵线段树，维护这一位上面的答案。

对于每个点，我们维护对应区间中子序列的异或和。考虑如何pushup。

pushup会新增跨过中间的一部分答案。于是我们对于每个点顺带维护包含左右端点的所有子区间的异或为1的有多少个，然后合并的时候就拼起来就是当前这个的答案了。