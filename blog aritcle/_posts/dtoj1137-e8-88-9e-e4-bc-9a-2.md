---
title: " DTOJ1137舞会\t\t"
tags:
  - 二分
  - 最大流
url: 3089.html
id: 3089
categories:
  - DTOJ
  - Solution
date: 2018-07-27 16:48:28
---

一看就是网络流的题。 显然我们可以二分答案，然后就变成了判断$mid$是否可行。 一共建四列点，两列男生两列女生。$1$、$2$列代表男生，$3$、$4$列代表女生，每列都有$n$个点。 $S$向第$1$列连容量为$x$的边，第$4$列向$T$连容量为$x$的边。 第$1$列每个点向第$2$列对应点连容量为$k$的边，第$3$列每个点向第$4$列对应点连容量为$k$的边。 如果第$i$个男生和第$j$个女生相互喜欢，那么第$1$列第$i$个点向第$4$列第$j$个点连容量为$1$的边。否则第$2$列第$i$个点向第$3$列第$j$个点连容量为$1$的边。 也就是说，$1$、$2$之间的边和$3$、$4$之间的边限制了每个人最多和$k$个不喜欢的人跳舞。 跑一边最大流，如果$=n\\times mid$就可行。