---
title: " DTOJ1454作诗\t\t"
tags:
  - 分块
url: 1556.html
id: 1556
categories:
  - DTOJ
  - Solution
date: 2018-04-17 21:24:42
---

如果可以离线的话，这显然可以用莫队写。 dalao说离线可以用莫队的话，在线可以考虑一下分块。 考虑分块。 记$f\[i\]\[j\]$为第$i$块到第$j$块内出现正偶数次的数的个数。 那么对于一个询问$\[l,r\]$，我们可以通过$f\[i\]\[j\]$得出中间整块的答案。 剩下两侧零碎的块，我们可以枚举位置，然后根据这个数的出现次数来更新答案，如果是第奇数次出现答案就$-1$，否则答案就$+1$。 因此我们再预处理出每个数在前$i$块的出现次数即可。