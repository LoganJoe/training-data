---
title: " DTOJ3645盒中置镜\t\t"
tags:
  - 插头dp
url: 3706.html
id: 3706
categories:
  - DTOJ
  - Solution
date: 2018-08-28 12:33:37
---

放镜子其实是改变一个格子中四条光路相互的连通性。 放多个镜子让光路成环后，成环的光路就可以不计入答案了。 经过计算可以发现，答案就是$4nm-2倍成环光路长度$。因此我们要最大化成环的光路长度。 我们用插头dp模拟成环的光路即可。同时要记下当前放了几个镜子。