---
title: " DTOJ1720mex\t\t"
tags:
  - 线段树
url: 665.html
id: 665
categories:
  - Solution
date: 2018-02-18 12:21:44
---

既然没有修改，我们将询问按照右端点排序，离线做。 区间长度最大为n，所以区间内未出现的最小自然数一定会小于等于n。因此对于大于n的a\[i\]，我们可以将其看做n+1 线段树中存的是数i的最小出现位置。对于一段\[l,r\]的查询，判断左区间是否出现不在l~r这个区间内的数（即左区间的最小值是否小于l），如果出现则往左查找，否则往右查找。 我们只需要查询第一个不在\[l,r\]中出现的数即可。