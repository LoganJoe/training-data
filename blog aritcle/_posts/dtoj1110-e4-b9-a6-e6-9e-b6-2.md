---
title: " DTOJ1110书架\t\t"
tags:
  - 单调队列
  - 线段树
url: 2630.html
id: 2630
categories:
  - Solution
date: 2018-07-01 21:12:44
---

设f\[i\]为放满前i本书所需要的最小总高度，那么有$f\[i\]=min\\{f\[j\]+max\\{h\[j+1\\sim i\]\\}}(\\sum_{k=j+1}^{i}w\[k\]\\leqslant L)$ 对于每个分隔点显然会在一段区间里。 后面那个转移明显是单调的，因为$max\\{h\[j+1\\sim i\]\\}$也应当是单调的。于是我们可以用线段树维护转移，单调队列维护有用状态。