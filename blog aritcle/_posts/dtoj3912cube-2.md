---
title: " DTOJ3912cube\t\t"
tags:
  - 奇技淫巧
url: 3932.html
id: 3932
categories:
  - Solution
date: 2018-09-15 16:00:52
---

出题人是沙雕。

1 观察
----

当 $n∗m$ 的网格被填满 $∗$时，此时 $L$ 形最多，共有$ C = 4∗(n−1)∗(m−1) $个。$k > C$ 时 显然无解，下面仅讨论 $k ≤ C $的情况。同时容易注意到当$ k < C−?$ 时，很容易找到解，只有$ k ≥ C−?$ 时，会有无解情况。下面的讨论将会围绕以上观察展开，并在推导过程中求出 $?$ 具体 的值。

2 讨论
----

设 $r$ 表示当前还需要增添的 $L$ 型数目。构造程序从上向下，从左向右填加 $∗$。从第二行开 始，在每行的开头位置添加一个 $∗$ 会使得网络比原先多出 $1$ 个 $L$ 型，而在中间位置和行末添加 $∗$ 则会使网络比原先分别多出 $4$ 个和 $3$ 个 $L$ 型。 构造程序按照上述顺序依次添加 $∗$，直至若再按照上述顺序添加 $∗$ 会使得 $r < 0$ 时停止。 此时 $r < 4$，下面从 $1.3$ 开始将对 $r$ 作分类讨论。为了方便，记 $cur$ 表示填写停止时处在的 行，$nex$ 为 $cur$ 的下一行，$\\alpha$ 和 $\\beta$ 表示 $cur$ 中已经填写了多少 $∗$ 及剩余未填写 $∗$ 的数量，显然 $\\alpha + \\beta = m$。

3 r=0
-----

此时网络已满足合法条件。

4 r=1
-----

#### 4.1 β = 1

• 若不存在 $nex$，那么 $k \\geq C −3 + 1$，跳转到 $7 $

• $Otherwise$，在 $nex$ 第一列添加 $∗$

#### 4.2 Otherwise

在 $cur$ 的末尾添加 $∗$

5 r=2
-----

#### 5.1 β ≥ 3

在 $cur$ 倒数第二列添加 $∗$

#### 5.2 β < 3

若不存在 $nex$，那么 $k ≥ C −7 + 2$，跳转到 $7$

• $\\alpha \\geq 2$，在 $nex$ 行第 $\\alpha$ 与 $\\alpha + 1$ 列添加 $∗$

•$\\alpha = 1$，此时$ m = 3,\\beta= 2$，删去 $cur$ 第 $1$ 列的 $∗$，在 $cur$ 第 $2$ 列及 $nex$ 第 $2,3$ 列添加 $∗$

• $\\alpha = 0$，由于 $n,m \\geq 3$，不存在

6 r=3
-----

#### 6.1 β ≥ 4,a ≥ 2

删去 $cur$ 第一列的 $∗$，并在 $cur$ 第 $\\alpha + 2$,$\\alpha + 3$ 分别添加 $∗$

#### 6.2 α = 0

##### 6.2.1 β ≥ 4

在 $cur$ 第 $1,3$ 列添加 $∗$

##### 6.2.2 β = 3

• 若不存在 $nex$，那么 $k ≥ C −8 + 3$，跳转到 $7$

• $Otherwise$，在 $cur$ 第 $2$ 列及 $nex$ 第 $2,3$ 列添加 $∗$

#### 6.3 α = 1

##### 6.3.1 β ≥ 4

在 $cur$ 第 $3$ 列和行末添加 $∗$

##### 6.3.2 β = 3

• 若不存在 $nex$，那么 $k \\geq C −11 + 3$，跳转到 $7$

• $Otherwise$，删去 $cur$ 第 $1$ 列的 $∗$，在 $cur$ 第 $2$ 列及 $nex$ 第 $1,2,3$ 列添加 $∗$

#### 6.4 β < 4,α ≥ 2

若不存在 $nex$，那么 $k ≥ C −7 + 3$，跳转到 $7$

• $\\beta = 1$，在 $cur$ 行末添加 $∗$

• $β = 2$，在 $cur$ 行末及 $nex$ 第 $\\alpha,\\alpha + 1$ 列添加 $∗$

7 k ≥ C −8
----------

$C−3,C−6,C−7​$ 都可以构造出解，而可以证明 $C−1,C−2,C−4,C−5​$ 无解。但$ k = C−8 ​$在 $min(n,m) = 3​$ 时是有解的：留下长度为 $3​$ 的一行全部放 .