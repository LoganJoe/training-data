---
title: " DTOJ3677修序列1\t\t"
tags:
  - 随机化
url: 1644.html
id: 1644
categories:
  - DTOJ
  - Solution
date: 2018-04-23 17:14:57
---

$k\\leqslant 500$很好想，直接输出形如一个$1$，$k-1$个$2$即可。 发现方差相同的概率其实很小，假如随机生成一个长度为$n$的序列，有很大的概率不同的方差个数$\\frac{n(n-1)}{2}+1$。 即我们可以认为，在序列末尾加入一个随机数，方差会增加长度$-1$个。 随机的值域大时，方差不容易重复；反之，随机的值域小时，方差容易重复。 因此我们可以先随机一小段值域小的序列，求出方差个数，也可以用$1\\space 2\\space 3\\space 4\\space 5…$，这样方差个数就是长度了。然后在后面补大随机数，然后把方差个数加上长度$-1$。 但这样子构出解的概率有点低，因为每次加长度$-1$不是很容易刚好达到$k$。 注意到如果在末尾加入多个相同的数，大概率每次增加的方差个数都是相同的。 因此在每次加入一个大随机数时，判断如果重复加入最后一个数能不能构出解。