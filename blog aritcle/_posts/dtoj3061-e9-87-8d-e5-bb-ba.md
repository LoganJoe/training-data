---
title: " DTOJ3061重建\t\t"
tags:
  - 树链剖分
  - 线段树
url: 317.html
id: 317
categories:
  - Solution
date: 2018-01-19 17:15:39
---

树链剖分。 只需要知道，一个点的子树在dfs序上是连续的就好了。平均数直接询问+赋值，注意区间赋值操作优先级要高于区间加，对于第一个标记的下传需要吧区间加的标记清零。而最大最小和总和在pushup中直接更新就好。