---
title: " DTOJ2840Wilcze doły\t\t"
tags:
  - 单调队列
url: 4625.html
id: 4625
categories:
  - DTOJ
  - Solution
date: 2018-10-27 15:49:01
---

我们枚举区间的左端点，考虑如何求出最大的右端点。 显然如果区间$\[l,r\]$不可行，那么区间$\[l,r+1\]$一定也不可行。同样的，如果区间$\[l,r\]$可行，则区间$\[l,r-1\]$也可行。 换句话说，左端点在右移的时候，最大的右端点是不减的。 那么我们现在就是要判断一个区间是否可行，如果可行就继续往右移右端点。 显然删数是要删和最大的一段区间，那么就一定会删$d$个数。 那么我们就是要求在当前区间范围内的最大的$Sum\_i-Sum\_{i-d}$。其中，$Sum\_i$为$w\[i\]$的前缀和。 拿一个单调队列维护最大的$Sum\_i-Sum_{i-d}$即可。