---
title: " DTOJ1591Teleportation\t\t"
tags:
  - 思路
url: 2737.html
id: 2737
categories:
  - DTOJ
  - Solution
date: 2018-07-06 19:53:16
---

题目意思是$1$到$2$的最短路要$\\geqslant 5$。 我们可以根据分层图的思想，将除了$1$和$2$的点分成$4$层。第$1$层是与$1$直接相连的点，第$4$层是与$2$直接相连的点。第$2$层是与第$1$层相连且不属于第$1$层的点，第$3$层是与第$4$层相连且不属于第$4$层的点。 容易发现，一条边要么连接两个同层的点，要么连接相邻层的点，且这样$1$到$2$的最短路一定$\\geqslant 5$。 对于初始不在分层图中任意一层的点，我们可以通过加边把它放进去，那么放在哪层是最优的呢？ 记第$i$层的点数是$cnt\[i\]$。

*   放在第$1$层：增加$cnt\[1\]+cnt\[2\]+1$条边。
*   放在第$2$层：增加$cnt\[1\]+cnt\[2\]+cnt\[3\]$条边。
*   放在第$3$层：增加$cnt\[2\]+cnt\[3\]+cnt\[4\]$条边。
*   放在第$4$层：增加$cnt\[3\]+cnt\[4\]+1$条边。

显然放在第$2$层或第$3$层最优。 统计一下最多能有多少条边，再减去原有的边就可以得到答案了。