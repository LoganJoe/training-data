---
title: " DTOJ2978Lucky7\t\t"
tags:
  - 容斥
  - 数论
url: 5067.html
id: 5067
categories:
  - DTOJ
  - Solution
date: 2018-11-05 23:25:10
---

直接算$x\\%a\[i\]\\neq b\[i\]$有点难，我们考虑用所有方案减去$x\\%a\[i\]=b\[i\]$的方案数。 这里有多组限制，我们枚举至少没满足$x$组限制并枚举对应的$x$组限制，计算出方案数后对答案的贡献系数就是$(-1)^x$。 然后就变成了求形如$x\\%a\[i\]=b\[i\]$的方程组的解的个数。 这就是求一次同余方程组解的个数，由于保证了$\\prod a\[i\]\\leq 10^{18}$，那么我们用exgcd暴力合并同余方程，直到只剩下一个同余方程就可以直接计算解的个数了。