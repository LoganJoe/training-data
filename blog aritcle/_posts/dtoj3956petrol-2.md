---
title: " DTOJ3956Petrol\t\t"
tags:
  - 思路
  - 最小生成树
  - 最短路
url: 4514.html
id: 4514
categories:
  - DTOJ
  - Solution
date: 2018-10-24 21:27:49
---

显然只有加油站是有用的，如果能建出加油站之间的最小生成树，我们就可以回答询问了。 对于原图中的一条边$(u,v,w)$，考虑从某个加油站出发，能经过这条边，油量上限需要满足什么条件。 记$dist\_i$为距离$i$点最近的加油站的距离。从加油站开始跑最短路即可求出。 那么油量上限一定要$\\geq dist\_u+w+dist\_v$。即每条边都能看成从一个加油站走到另一个加油站。 那么我们把原图的边权改成$dist\_u+w+dist_v$，求出最小生成树即可。