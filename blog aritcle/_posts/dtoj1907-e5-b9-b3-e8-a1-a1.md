---
title: " DTOJ1907平衡\t\t"
tags:
  - dp
  - 思路
url: 2876.html
id: 2876
categories:
  - DTOJ
  - Solution
date: 2018-07-20 22:41:50
---

平衡即两边拿走的东西距离和相同。 那么我们可以枚举拿走的距离和，和拿走的个数，如果能求出这样的方案数就能求出答案了。 这个方案数就相当于整数拆分的方案数。 记$f\[i\]\[j\]$为将$i$分成$j$个不同$\\leqslant n$的数的和的方案数。 这个dp的转移就比较巧妙了。 考虑不选$1$的情况。我们将这$j$个数$-1$，显然和$f\[i-j\]\[j\]$的方案一一对应。 考虑选$1$的情况。我们将$j-1$个数$-1$，显然和$f\[i-j\]\[j-1\]$的方案一一对应。 那么就有 $$f\[i\]\[j\]=f\[i-j\]\[j\]+f\[i-j\]\[j-1\]$$ 但这样有个问题，就是我们选出来的数可能会$>n$。 即我们给数$-1$后对应的方案里有选择$n$这个数，那么相当于我们选择了$n+1$。 也就是说当$i>n$的时候，要减去$f\[i-(n+1)\]\[j-1\]$。 算出所有的$f\[i\]\[j\]$后，枚举距离和及个数，由于两边的方案数独立的，乘起来相加就可以算出答案了。