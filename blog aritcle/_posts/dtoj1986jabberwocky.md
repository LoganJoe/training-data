---
title: " DTOJ1986Jabberwocky\t\t"
tags:
  - 思路
url: 5678.html
id: 5678
categories:
  - DTOJ
  - Solution
date: 2018-12-20 22:35:49
---

我们先考虑获得线段上方的所有点。 假设一开始我们的线段在所有点下方。此时答案为同颜色中相邻的两个点之间的区域的点数最大值。 考虑将线段向上移，上移的同时我们把处于线段下方的点删掉。那么答案就变成了删完点后同颜色中相邻的两个点之间的区域的点数最大值。 我们每删一个点，就找到它左边/右边第一个和它同颜色的点，然后计算中间区域新的点数，来更新答案。 找点和删点可以对于每种颜色的点开一个set维护。（其实也可以用链表） 计算某块区域的点可以用树状数组或者线段树。 对于获得线段下方的所有点的情况，我们只要把所有点的$y$坐标取反，然后再做一次即可。