---
title: " DTOJ2353组合数学\t\t"
tags:
  - dp
  - 定理
  - 思路
url: 2847.html
id: 2847
categories:
  - Solution
date: 2018-07-19 22:05:03
---

我们可以想一下他是怎么走的。 既然是从左下角，每次向右或者向下走，那么走到右上方肯定是取不到的。 那么我们要考虑算出一次不能取的数量。 那么即是求从左下角走到右上角，最多的财宝数量。 我们记$f\[i\]\[j\]$为走到当前位置所能得到的最多财宝数量。$(i,j)$可以从$(i-1,j)$和$(i,j+1)$转移过来,所以会有 $$f\[i\]\[j\]=max\\{f\[i\]\[j+1\],f\[i-1\]\[j\],f\[i-1\]\[j+1\]+A\[i\]\[j\]\\}$$ 答案在$f\[n\]\[1\]$。 这个东西涉及到一个概念：Dilworth定理。 Dilworth定理：DAG的最小链覆盖=最大点独立集=最长反链划分 。 最小链覆盖指选出最少的链(可以重复)使得每个点都在至少一条链中 。 最大点独立集指最大的集合使集合中任意两点不可达 。 此题中最大点独立集显然是一个集合满足集合中任意两点都是左下->右上的关系 。