---
title: " DTOJ3837取石子\t\t"
tags:
  - 博弈
url: 3019.html
id: 3019
categories:
  - DTOJ
  - Solution
  - 不会证
date: 2018-07-23 22:30:47
---

显然可以按位拆开考虑。 那么就是谁取到了所有石子异或和最高位的$1$谁就赢，如果异或和为$0$就是平局。 现在问题变成了有一个$01$序列，一共有奇数个的$1$，取到奇数个的$1$就获胜。

*   如果$n$是偶数，那么Alice必胜。因为Alice肯定可以取到所有下标为奇数/偶数的位置，而这两种取法一定有一种能取到奇数个的$1$。
*   如果$n$是奇数，那么Alice第一步不能取$0$（否则就变成了Bob先手且$n$为偶数，那么Bob必胜）。因此Alice必须先取走一个$1$，如果序列的两端都是$1$我们枚举取的是哪一个。

那么Alice接下来的每一步都要和Bob上一步取的数字相同，不然就会变成Bob先手且$n$为偶数，Bob就必胜了。 可以证明如果Alice能做到这点当且仅当初始的$01$序列满足：$1$的个数$\\%4=1$。然后不断删除序列头尾相同的数，对于剩下的数相邻两个分为一组，在同一组的数相同。 然而我不会证。 这样时间复杂度是$\\Theta(n)$的。