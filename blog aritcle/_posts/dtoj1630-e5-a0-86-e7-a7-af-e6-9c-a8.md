---
title: " DTOJ1630堆积木\t\t"
tags:
  - 思路
url: 2006.html
id: 2006
categories:
  - DTOJ
  - Solution
date: 2018-05-21 07:28:52
---

先按宽度给积木排序，显然这是一个合法的顺序。 发现如果将其中一个积木往上移动，并且保证移动之后这个积木不超过下面那个积木的宽度$+P$，那么这个顺序仍然合法。 依次考虑每个积木能向上移动几步，也就是有几个积木的宽度$+P$后仍然$\\leqslant $当前积木宽度。假设有$x$个，那么方案数就能在当前的基础上$\\times x$，每个积木的方案数是相互独立的（不确定）。 维护$x$可以用一个单调队列。