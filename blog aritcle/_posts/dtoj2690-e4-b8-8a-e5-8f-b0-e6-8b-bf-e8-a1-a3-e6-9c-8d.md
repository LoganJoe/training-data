---
title: " DTOJ2690上台拿衣服\t\t"
tags:
  - dp
  - 找规律
url: 788.html
id: 788
categories:
  - DTOJ
  - Solution
date: 2018-02-26 17:02:29
---

找规律好题。 先考虑暴力，设$f\[i\]\[j\]$为要求的$x$有$i$种可能，用$j$个记者求出$x$最坏情况下要试的次数。 枚举第一次要试的位置，我们有

$f\[i\]\[j\]=min(max(f\[k\]\[j\],f\[i-k\]\[j-1\]))+1(k\\in\[1,i))$

边界有$f\[i\]\[1\]=i-1$。答案就是$f\[n+1\]\[k\]$。 然后我们用暴力打一张表，开始找规律。 首先$f\[i\]\[1\]$的规律很显然。 然后$f\[i\]\[2\]$有$1$个$0$，$1$个$1$，$2$个$2$，$3$个$3$,…,$k$个$k$。 $f\[i\]\[3\]$有$1$个$0$，$1$个$1$，$2$个$2$，$4$个$3$，$7$个$4$……然后把每种数字出现次数作$1$次差分，发现变成了$1,2,3,…,k$。 对于$f\[i\]\[4\]$同样对每种数字出现次数作差分，差分$2$次发现还是$1,2,3,…,k$。 之后同样有这个规律。 然后我们就可以暴力求出每种答案在每列出现的次数，一直处理到答案次数前缀和$>1e18$。 发现$k=3$时答案最大在$1.8e6$左右，$k$变大时最大的答案递减地非常迅速。因此每种答案出现的次数开个vector存的下。 然后对于询问，就可以通过这列每种答案出现次数的前缀和二分出答案。 顺便附上官方题解。 ![](http://www.dtenomde.com/wp-content/uploads/2018/02/3ECAFD20-78D4-4148-8971-5C4F9AE1A69E.jpg)