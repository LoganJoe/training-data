---
title: " DTOJ1046密码\t\t"
tags:
  - 无标签
url: 2268.html
id: 2268
categories:
  - DTOJ
  - Solution
date: 2018-06-08 15:21:47
---

字典序最小我们可以依次按位考虑，每位填最小的能填的字母。 我们先考虑第$1$位能不能填a，那么我们肯定是看看能不能把遇到的第$1$个a移动到第$1$位。如果可以就考虑第$2$位，否则考虑第$1$位能不能填b。 我们可以用vector存下每种字母出现的位置，再拿个指针移动就知道往后遇到的第一个某种字母在哪个位置了（这里的位置指的是初始位置，即移动并没有改变位置）。 那么问题就是判断能不能将某个位置移动到前面的某个位置。 因为我们是按位考虑的，所以我们考虑维护初始每个位置现在移动到当前位置的代价。初始时第$i$个位置的代价是$i$。 考虑第一次移动，我们将位置$i$的字母移动到第$1$位，对维护的信息有什么影响。 因为第一次移动后，下一次移动就是要移到第$2$位了。所以原来第$2\\sim i-1$位的移动代价没有影响（往后移动了一位代价$+1$，当前位置往后移动一位代价$-1$抵消了），原来第$i\\sim n$位移动的代价都$-1$。 发现这是一个区间加，单点查询的问题，可以用树状数组解决。