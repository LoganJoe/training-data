---
title: " DTOJ3604program\t\t"
tags:
  - 思路
url: 1359.html
id: 1359
categories:
  - DTOJ
  - Solution
date: 2018-04-07 19:53:35
---

注意到指针的移动是连续的，如果指针从左边出去后，再从最左边开始，那么任意一个区间的运行过程一定都是整个程序的运行过程的子段。那么只要存出每个时间的答案，再用子段的开始时间和结束时间，前缀和相减一下就能得到答案了。 令$f\_i$为指针第一次从$i-1$与移动到$i$的时间，$g\_i$为指针第一次从$i$移动到$i-1$的时间。那么用链表模拟一遍过程，就可以求出$f\_i$和$g\_i$了。 那么区间$\[l,r\]$的运行过程的开始时间就是$f\_l$，结束时间就是$min(f\_{r+1},g_l)$。