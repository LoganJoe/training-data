---
title: " DTOJ1606平衡奶牛品种\t\t"
tags:
  - dp
url: 1702.html
id: 1702
categories:
  - DTOJ
  - Solution
date: 2018-04-24 20:25:43
---

把$($看成$1$，$)$看成$-1$，那么保证一个字符串的任意前缀$($都比$)$多等价于保证所有前缀和$\\geqslant 0$。 注意到$n\\leqslant 1000$，很容易想到记下两种奶牛当前的前缀和。但这样是$n^3$的，注意到如果知道了其中一种奶牛的前缀和，另一种奶牛的前缀和可以直接算出，因为每个数一定属于两种奶牛中的一种。 记$f\[i\]\[j\]$为前$i$个数中Holsteins奶牛的前缀和为$j$的方案数。 考虑第$i$个数要给Holsteins奶牛还是Guernseys奶牛即可转移。