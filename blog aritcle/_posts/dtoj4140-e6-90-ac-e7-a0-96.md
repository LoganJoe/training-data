---
title: " DTOJ4140搬砖\t\t"
tags:
  - 并查集
  - 思路
url: 6572.html
id: 6572
categories:
  - DTOJ
  - Solution
date: 2019-02-23 22:58:20
---

每次移动，移动的两个数对$a\_i=b\_i$数量的贡献，要么是$0\\rightarrow 1$，要么是$0\\rightarrow 2$，不可能$1\\rightarrow 2$。 我们把每种$a\_i$看成一个点，如果$a\_i\\neq b\_i$，就在$a\_i$和$b_i$之间连一条边。 显然每个连通块最多移动的次数是独立的，我们可以对每个连通块分别考虑。 如果连通块大小为$2$，那么肯定只有$0\\rightarrow 2$的边，最多可移动的次数就是边数$\\div 2$。 如果连通块大小$>2$，一定有一条$0\\rightarrow 1$的边。移动次数的上界是边数$-1$。由于有$0\\rightarrow 1$边的存在，一定有某种移动的顺序是合法的，因此上界是可以达到的。 那么就用并查集维护一下连通块的大小以及边数即可。