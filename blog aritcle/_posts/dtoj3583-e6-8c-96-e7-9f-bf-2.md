---
title: " DTOJ3583挖矿\t\t"
tags:
  - dp
url: 1833.html
id: 1833
categories:
  - Solution
date: 2018-04-30 19:56:16
---

(半)原创题。 Sub1 20% $n=1$。只需判断这个星球位置是否能拆分成4和7的和。 可以简单递推，枚举求得。打表的话可以发现，只有1 2 3 5 6 9 10 13 17不能拆。 Sub2 20% n很小。可以$2^n$枚举去哪些星球，然后用上面的方法判定一个星球能否到下一个星球。 Sub3 20% $m$比较小。设$x\[i\]$为$i$号星球的原矿数，$f\[i\]$为到$i$号星球能获得的最大原矿数，则$f\[i\]=max{f\[i-4\],f\[i-7\]}+x\[i\]$。 Sub4 40% m很大。 我们回顾$NOIP2017 Day1 T1$，发现$4$与$7$最大凑不出的整数为$4*7-4-7=17$. 1.将所有矿物排序，$f\[i\]$为到第$i$个矿体能获得的最大原矿数，那么$f\[i\]=max{f\[j\]}+x\[i\]$，其中，$i-j$满足能拆分成$4$和$7$。 这样$dp$需要$n^2$的复杂度，但是我们发现，相距超过$17$的一定可达，那么不超过$17$的范围内暴力，超过$17$的取个最大值即可，复杂度O(n) 2.可以把相邻的星球距离超过$17$的压缩成$18$，按照$60%$的做法$dp$.