---
title: " DTOJ2300排序\t\t"
tags:
  - 无标签
url: 3710.html
id: 3710
categories:
  - Solution
date: 2018-08-28 12:39:34
---

首先要知道的是，一组操作假设可以将数组排序，那么交换操作的顺序同时必定交换操作的范围，也可以将数组排序。那么对于一组操作，假设操作个数为$cht$，对答案的贡献就是$cnt!$。

然后我们就可以暴搜操作选与不选，然后检验它能不能使得数组排序。在执行第$i$个操作时，我们要保证每段的$2^i$个数都是有序的，然后通过交换使得每$2^i$个数都有序。然后如果有两组以上的数是无序的，前面的操作就是不合法的。

假设只有一对要换，我们直接交换然后往下做。

否则，我们爆搜四种交换的情况，依次做一下就好了。

于是我们暴搜操作组合，同时暴如何交换并判断合法性即可。