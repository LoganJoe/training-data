---
title: " DTOJ1376蒲公英\t\t"
tags:
  - 分块
url: 1091.html
id: 1091
categories:
  - DTOJ
  - Solution
date: 2018-03-18 22:48:08
---

首先有一个很显然的性质：区间$1$和区间$2$的众数，只可能是区间$1$的众数或者区间$2$的某个数。 考虑分块。记$f\[i\]\[j\]$为第$i$块到第$j$块的众数。 那么区间$\[l,r\]$的众数只有可能是$\[l,r\]$内整块的众数和两侧不完整块中的每个数。整块的众数即是$f$，不完整块的每个数我们可以枚举，现在的问题就是如何快速求出$\[l,r\]$中某个数$x$的出现次数。 用vector求出每个数的出现位置，在vector中二分$l$和$r$就可以在$log$的时间内求出$x$的出现次数了。