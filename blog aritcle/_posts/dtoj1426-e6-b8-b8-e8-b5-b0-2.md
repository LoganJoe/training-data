---
title: " DTOJ1426游走\t\t"
tags:
  - 期望
  - 概率dp
  - 高斯消元
url: 1172.html
id: 1172
categories:
  - DTOJ
  - Solution
date: 2018-03-21 20:11:41
---

好像是板子题啊。 令$f\[i\]$为走到点$i$的概率。那么显然有 $$f\[i\]=\\sum_{(i,j)\\in E,j<n}\\frac{f\[j\]}{deg\_j}$$ 其中$deg\_j$为点$j$的度数。之所以$j<n$，是因为到$n$点后就结束了，不可能再走。 初始有$f\[1\]=1$，那么对于点$1\\sim n-1$，我们有$n-1$个方程和未知数，可以解出除$f\[n\]$以外的$f\[i\]$。 那么经过一条边$(u,v)$的概率就是$\\frac{f\[u\]}{deg\_u}+\\frac{f\[v\]}{deg\_v}$。注意这里我们认为$f\[n\]=0$，因为到点$n$不会在继续走了。 这样的话，我们给概率大的边赋小的权值，即按概率从小到大赋从大到小的权值。