---
title: " DTOJ3656数列\t\t"
tags:
  - 思路
url: 1884.html
id: 1884
categories:
  - DTOJ
  - Solution
date: 2018-05-06 21:36:17
---

扫一遍序列很容易求出$f(a)$，如果和我一样蠢的话可以用树状数组求，因为是个二维偏序问题。 对于一个出现过的值$x$，如果存在某个$y$使得$x-y=f(a)$，那么我们得选择一个位置$i$，然后把$i$之前$y$和$i$之后的$x$全部修改。我们可以枚举$i$，总效率应该可以做到$\\Theta(n)$。反正测试时的我脑子很乱，写了vector+二分，效率$\\Theta(nlog\\space n)$。 把所有的$x,y$的代价加起来就是答案了。