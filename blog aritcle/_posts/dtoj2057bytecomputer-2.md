---
title: " DTOJ2057Bytecomputer\t\t"
tags:
  - dp
url: 5042.html
id: 5042
categories:
  - DTOJ
  - Solution
date: 2018-11-04 23:06:13
---

操作完后的序列一定还是只有$-1,0,1$。 简单证明一下。 最前面的数是不能变的，所以最终所有数都$\\geq -1$。最后一个数要能增加，倒数第二个数一定是$1$，那么这个时候最后一个数加到$1$肯定比加到$2$或更大的数优。 然后我们操作连续一段一定是从前往后最优。 知道了这些后我们就可以开始dp了。 记$f\[i\]\[0/1/2\]$为使前$i$个数非降，且第$i$个数为$-1/0/1$的最小代价。 根据第$i$个数的值讨论要不要加上前面的数以及要加几次，随便一下转移即可。 最后答案就是$\\min\\{f\[n\]\[0\],f\[n\]\[1\],f\[n\]\[2\]\\}$。