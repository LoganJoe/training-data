---
title: " DTOJ1440相片\t\t"
tags:
  - dp
  - 单调队列
url: 1582.html
id: 1582
categories:
  - DTOJ
  - Solution
date: 2018-04-20 07:39:20
---

记$f\[i\]$为前$i$头牛都满足限制且第$i$头牛有斑点，包括第$i$头牛最多能有几只牛有斑点。 那我们就要找到一些可以转移的$j$，然后令$f\[i\]=max\\{f\[j\]\\}+1$ 考虑$j$的取值

*   $i,j$之间不能单独存在一个区间，否则这段区间内就没有斑点奶牛
*   $i,j$不能在同一个区间里面，否则这段区间内就有两只斑点奶牛

第一个条件限制了$j$的下界，即右端点在$i$左边的所有区间中的最大的左端点。第二个条件限制了$j$的上界，即右端点在$i$即$i$右边的所有区间中最小的左端点。 上下界都是单调增的，因此我们可以用单调队列维护dp转移，不能转移即为$-1$。