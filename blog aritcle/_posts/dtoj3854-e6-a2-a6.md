---
title: " DTOJ3854梦\t\t"
tags:
  - 数学
url: 3437.html
id: 3437
categories:
  - Solution
date: 2018-08-12 22:50:31
---

知乎原题。

首先我们来想一想第二问，最后有几个0。问题可以转化为，找一个10的整数幂，使其为$n!$的约数，问这个指数最大是多少。这个东西我们只需要对于$n!$质因数分解，看其中2和5的次数就可以解出来了。很容易得到，5的次数小于2的次数。那么我们只需要计算5的出现次数。我们分别计算$5^k$的贡献，那么答案会是

$$\\sum_{k=1}^{\\infty}\\lfloor \\frac{n}{5^k} \\rfloor $$

那么再考虑第一问。先去掉第二问中的2和5配对掉的个数，然后会发现答案一定是个偶数，证明显然。现在要求的是这个东西$mod \ 5$的余数。

**我们对与$n!$在消去最后所有非零位下讨论意义。**

考虑一个$(5k)!$，$k \\in N* $，考虑其抹掉10^k的结果，有

$$(5k)!=\\frac{1}{2^k}1\\times 2 \\times 3 \\times 4 \\times 6 \\times 7 \\times 8 \\times 9 \\times 11 \\times... \\times (5k-1) \\times k!$$

而这个东西我们可以消成$k!72^k= k! 2^k(mod \ 5)$。消去过程略。

由此，我们得到一个重要的引理：$(5k+t)!=(5k)!t!=2^k k!t!$

以上等式均在消去非零位后讨论意义。

将$n$表示为$5k+t$的形式，递归算出答案 $mod \ 5$即可。

如果你想得到不通俗的解答，可以看这篇知乎回答：[2016 的阶乘（2016!）末尾第一个非零数字是几？ - Richard Xu的回答 - 知乎](https://www.zhihu.com/question/47569759/answer/106792023) 

上述方法的详细证明可以看这里：[阶乘数最右边一个非零数字：通用解法](http://blog.sina.com.cn/s/blog_a661ecd50101499c.html)