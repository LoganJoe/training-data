---
title: " DTOJ3095自古枪兵幸运E\t\t"
tags:
  - 定理
  - 思路
  - 数学
url: 2609.html
id: 2609
categories:
  - DTOJ
  - Solution
date: 2018-07-01 15:39:41
---

有奇数又有偶数很烦，如果只有其中一种的话，我们就可以用隔板法来求解，也就是一个组合数的问题。 我们考虑如何变成只有一种。发现$k$很大，而$n,m$很小，考虑从$n,m$下手。 发现选两个同类型的小型，可以看做选一个新类型的大型。 因此我们不用在意选了多少个的小型，只要在意有几种小型选了奇数个即可。 假设有$x$种小型选了奇数个$((k-x)\\%2=0)$，那么对答案的贡献就是 $$\\binom{n}{x}\\binom{\\frac{k-x}{2}+n+m-1}{n+m-1}$$ 组合数拿Lucas定理算一下即可。