---
title: " DTOJ4045矿石\t\t"
tags:
  - 可持久化线段树
url: 5425.html
id: 5425
categories:
  - Solution
date: 2018-12-10 21:38:02
---

今日份的我是智障系列。 首先考虑区间问题。固定一维左端点作为主席树的时间轴。另外一维考虑在区间上查询。 那么对于所有的采矿点，我们就可以计算出覆盖到这个点的区间数目。同时，我们可以计算出跨过上面那个点，也左端点跨过前面点的区间个数。那么容斥掉就是当前这个点的新增贡献了。 然后效率成功垫底。