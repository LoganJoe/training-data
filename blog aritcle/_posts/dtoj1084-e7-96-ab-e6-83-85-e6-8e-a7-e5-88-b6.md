---
title: " DTOJ1125疫情控制\t\t"
tags:
  - 二分
  - 奇技淫巧
url: 4903.html
id: 4903
categories:
  - Solution
date: 2018-10-31 22:29:16
---

我们要考虑最小化的是所有军队中移动距离的最大值。注意到这个东西是单调的。于是我们可以二分然后判定。 显然，我们可以知道，深度越低的节点可以控制的范围肯定比其子树中深度更高的大。那么我们移动一个深度更低的节点上去肯定不会更劣。 那么对于二分到的答案，每个节点向上跳的情况会有两种：跳不到根节点和跳得到根节点。对于前述情况，我们把其能跳到的最高点记录下来。这个部分可以用倍增优化。而对于后者，我们用一个数组维护其还剩下多少时间。这些点都可以到根以后向下走，那么对于每个后者我们都可以得到一个覆盖范围。 接下来我们将后者按照剩余时间排序。从根dfs，对于还没有覆盖的子树的根，记录其到根距离并且从小到大排序。那么接下来我们贪心的匹配，每次对于每个未匹配点，我们找可以覆盖这个点的时间最小的军队然后匹配。假设可以全部匹配上，这个答案就可以作为一个可行解。$\\Theta(n \\log n)$