---
title: " DTOJ2653幸运数字\t\t"
tags:
  - 线性基
url: 2578.html
id: 2578
categories:
  - Solution
date: 2018-06-18 20:57:41
---

这题和前面的线性基很像。 首先我们知道，线性基是支持合并的。于是我们可以对于整棵树上的每个点，求出其到根路径上所有点的线性基，即线性基前缀和。 然后我们对于询问的两个点，将两个线性基合并，则得到了两点路径之间和LCA到根之间的所有值的线性基。 我们不想要LCA以上的线性基。因此我们需要像异或那题一样进行处理，每次记录pos，并不采用deep\[pos\]<deep\[LCA\]的基。 具体写法可以参照[DTOJ3647异或](http://www.dtenomde.com/2018/06/author=iftest614/article=2547/)。