---
title: " DTOJ3489可怜与超市\t\t"
tags:
  - 树形dp
url: 3573.html
id: 3573
categories:
  - Solution
date: 2018-08-25 21:22:09
---

mdCF搬题啊...

我们发现，每件商品都有唯一对应的优惠券给我们使用。并且每张优惠券都有一个对应的前置条件。

那么我们把$x_i$的限制抽象成一棵树，那么本题就是一个树形dp就可以解决了。

记$f\[i\]\[j\]\[0/1\]$为第$i$个节点，购买了$j$件商品，其中当前点是否使用优惠券，所需要的最小花费。那么这就是一个树上背包的问题，直接转移就好了。