---
title: " DTOJ1748树的重心\t\t"
tags:
  - 树形dp
url: 2969.html
id: 2969
categories:
  - Solution
date: 2018-07-22 14:44:59
---

我们可以分讨一下重心的个数。

*   两个重心，则分别计算两个重心分开的两棵子树，用 $f\[i\]\[j\]$ 表示在子树 $i$ 中，大小为 $j$（必须包含$i$）的连通子树的数量。枚举一下两边的大小统计即可。
*   一个重心，将重心拉上去做根，再记$g\[i\]\[j\]$为选出$i$个点，最大的联通子树大小为$j$的方案数。枚举每个子树的大小就可以求出。最后答案为$\\sum_{i=1}^{n}\\sum_{j=0}^{\\lfloor \\frac{i}{2}\\rfloor -1}g\[i\]\[j\]$