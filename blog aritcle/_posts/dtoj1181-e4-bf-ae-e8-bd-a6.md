---
title: " DTOJ1181修车\t\t"
tags:
  - 费用流
url: 1682.html
id: 1682
categories:
  - DTOJ
  - Solution
date: 2018-04-24 15:02:54
---

显然最小平均时间就是最小的所有人的总时间$\\div n$。 考虑费用流。这题的建图很巧妙。 修的顺序的影响比较难处理，发现每个技术人员最多修$n$辆车，那么我们可以把每个人拆成$n$个点，第$i$个点代表这个人是他倒数第$i$次修车。 对于一辆车$i$，如果它被第$j$个人修，我们可以枚举这个人是在哪次修这辆车的。假如这个人在倒数第$k$次修这辆车，那么这次修车会给答案带来$k\\times T\[i\]\[j\]$的贡献。因为第$j$个人在第$i$辆车之后还要修$k-1$辆车，修第$i$辆车会使之后这$k-1$个顾客以及修第$i$辆车的顾客都等$T\[i\]\[j\]$。那么连一条容量为$1$，费用为$k\\times T\[i\]\[j\]$的边。 然后$S$向每辆车连一条容量为$1$，费用为$0$的边，每个人拆出的$n$个点都向$T$连一条容量为$1$，费用为$0$的边。 跑一遍最小费用最大流就是答案了。