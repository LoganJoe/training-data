---
title: " DTOJ4235交朋友\t\t"
tags:
  - 思路
url: 7092.html
id: 7092
categories:
  - Solution
date: 2019-03-24 09:52:52
---

考虑对于当前点，任一固定一条出边，枚举另一条出边，对于对应的两点连边，形成一棵生成树。 观察一下，可以发现的是，对于一个点出边上的点，其一定可以连成一个团。而考虑通过生成树上的边跃到另外一个集合，可以发现这也可以形成一个更大的大团。这个结论十分显然：考虑两个团集合的任一公共点，通过该公共点所连边可以依次向两个团集合内的任意一点互连一边。 那么考虑对于生成树上每个联通块大小$Size$，对于答案就是$(Size-1)Size$。另外还有一些在联通块间的原本就存在的边，统计数目计算答案即可。