---
title: " DTOJ4049ZYB玩字符串\t\t"
tags:
  - 区间dp
  - 思路
url: 5306.html
id: 5306
categories:
  - DTOJ
  - Solution
date: 2018-11-26 19:11:20
---

设字符串长度为$n$，那么答案长度一定是$n$的约数。 我们可以枚举答案长度$m$，然后枚举$S$中每一个长度为$m$的子串，然后判断是否可行。 那现在问题就变成判定性问题了。 记$f\[i\]\[j\]$表示区间$\[i,j\]$是否合法。具体地，如果区间长度$len=j-i+1$是$m$的倍数，则表示区间$\[i,j\]$是否能被表示出。如果区间长度不是$m$的倍数，则表示是否能从区间$\[i,j\]$中选出长度为$len\\%m$的子序列是答案的前缀，并且剩下的每个部分都能被表示出。 我们按区间长度从小到大转移，对于$f\[i\]\[j\]$，有两种转移。

*   在区间$\[i,j-1\]$的末尾加上第$j$个字符，即$f\[i\]\[j-1\]\\Rightarrow f\[i\]\[j\]$，注意要判断是否合法。
*   在区间$\[i,k\]$末尾加上一个能用答案表示的字符串，即$f\[i\]\[k\]\\&f\[k+1\]\[j\]\\Rightarrow f\[i\]\[j\]$，要求$j-k$是$m$的倍数。

这样计算出来的复杂度上界是$\\Theta(n^4)$的，实则远远没有这么大。 实测可以跑过。