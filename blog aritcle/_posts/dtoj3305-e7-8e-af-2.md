---
title: " DTOJ3305环\t\t"
tags:
  - 思路
  - 数学
url: 3742.html
id: 3742
categories:
  - Solution
date: 2018-08-28 22:21:36
---

之前看过题想了一会然后不会做。

我们发现，那个最大公约数可以枚举嘛。然后我们就愉快的枚举了最大公约数$x$，于是每一段都得是$x$的倍数。

具体表现为，对于所有分界点，其前缀和关于$x$同余。

于是我们可以统计所有余数对应的分界点个数$t$，然后取最大的就是这个$gcd$最少能切成的段数，然后我们就可以拿这个$gcd$去更新答案，可以对$\\geq t$产生贡献。

枚举$gcd$的话我们只需要枚举$\\sum a_i$的约数就够了，否则不可能产生贡献。