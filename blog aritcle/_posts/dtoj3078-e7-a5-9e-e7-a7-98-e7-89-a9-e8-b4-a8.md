---
title: " DTOJ3078神秘物质\t\t"
tags:
  - 平衡树
url: 3324.html
id: 3324
categories:
  - DTOJ
  - Solution
date: 2018-08-07 18:26:47
---

询问看起来很可怕。 但实际上，如果询问的是max，那么答案就是区间最大值减去区间最小值。 如果询问的是min，那么答案就是区间所有相邻的数差的绝对值的小值。 那么我们就是要维护这三个信息。 如果没有删除合并，线段树即可。 有了删除合并，就需要写平衡树了。 听说块状链表也可以写，但我不会。 下面讲个笑话：Treap没有rand，insert没有newnode。