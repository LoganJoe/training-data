---
title: " DTOJ3853路\t\t"
tags:
  - 树链剖分
  - 线段树
  - 高精
url: 3439.html
id: 3439
categories:
  - Solution
date: 2018-08-12 23:02:25
---

考虑怎么解决路径某一位全部相同的查询。路径上某一位全部相同，有如下充分必要条件：

*   该位与和该位或和相同。
*   该为与和与该位逐个取反的与和相反。

随便选一个，然后树链剖分加线段树维护就好了。至于那个数据范围只要高精拆位然后用bitset维护转移就可以过了。

多了这个东西以后难写了一些。强行加强题目系列。