---
title: " DTOJ3586bsh\t\t"
tags:
  - 分治
  - 最短路
url: 1316.html
id: 1316
categories:
  - DTOJ
  - Solution
  - 不会证
date: 2018-04-04 16:00:08
---

凸多边形的剖分是很优美的东西。 考虑一条剖分边，它会将凸多边形分成两部分。 如果询问的两个点不在同侧，那么这两个点的最短路一定会经过这条剖分边两个端点中的一个，那么我们求出剖分边端点到所有点的最短路即可回答这个询问。 如果询问的两个点在同侧，那么这是一个子问题，将凸多边形拆成两个小的凸多边形，分治求解。 我们要选尽量能使两侧的点个数差不多的剖分边，那么可以找最远的两个点。 据说可以证明最坏情况下存在任意一侧不少于$\\frac{n}{3}$的分法，但我不会证。 有一些小细节，比如说每次分治完，两个小的凸多边形的总点数会比原来多$2$（剖分边上的），因此空间要开$3$倍。为了避免因为多点使得左边的信息覆盖到右边信息的位置，可以先分治右边再分治左边。