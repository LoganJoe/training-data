---
title: " DTOJ3972max\t\t"
tags:
  - 奇技淫巧
url: 4239.html
id: 4239
categories:
  - Solution
date: 2018-10-19 16:39:00
---

题目大意是给一个序列，以及多个区间。求这些区间中各个区间中数的最大值。其中有$n$个数，$m$个区间。$n,m\\leq 8*10^6$。

本题方法多种多样，有人写$ST$表，有人写线段树，也有人用前两者+分块。

让我来讲树状数组的做法。先写一棵树状数组，正常的那种。再想象一棵树状数组，它第$i$个点存$i\\sim i+lowbit(i)$的最大值，就是一棵反着的树状数组。然后两个端点往中间跳，可以证明一定可以跳到同一个点。这样空间开得下，时间也过得去（$log$比较小）。