---
title: " BZOJ1434[ZJOI2009]染色游戏\t\t"
tags:
  - 博弈
  - 找规律
url: 6223.html
id: 6223
categories:
  - BZOJ
  - Solution
date: 2019-01-26 23:08:18
---

根据经验（雾），我们可以知道每个反面向上的硬币是独立的。 定义$SG(i,j)$为只有$(i,j)$这个硬币是反面向上，其他硬币都是正面向上的局面的$SG$值。 我们把每个反面向上的硬币的$SG$值异或起来就能得到整个局面的$SG$值了。 暴力求$SG$肯定不行，但是我们可以先求出来找找规律。 我们用暴力求出所有的$SG(i,j)$，注意连通块不一定是矩形（不然规律就很奇怪了）。 然后我们可以发现： $$ SG(i,j)=\\begin{cases} lowbit(i+j-1) & i=1或j=1\\newline 2^{i+j-2} & i>1 且 j>1 \\end{cases} $$ 规律是出来的，但是$SG$值太大了存不下怎么办？ 发现$SG$值都是$2$的幂。 那我们取$\\log _2$再存即可。