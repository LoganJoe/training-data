---
title: " DTOJ3995停不下来的团长奥尔加\t\t"
tags:
  - dp
url: 5151.html
id: 5151
categories:
  - Solution
date: 2018-11-16 16:23:33
---

我们可以dp来求解。$f\[i\]$为从$1$第偶数次走到$i$所用的步数。那么要从$i-1$走到第$i$两次，首先要从$i-1$走到$i$然后被送回$A\_i$。而这个时候从$A\_i$走到$i-1$两次的代价就是$f\[i-1\]-f\[A\[i\]\]$。而这个时候再从$i-1$走到$i$就是花费$1$的代价。于是dp转移就可以写成$f\[i\]=f\[i-1\]-f\[A\[i\]\]+2$。直接做转移即可。