---
title: " DTOJ2164 Utopia Policy\t\t"
tags:
  - LIS
url: 927.html
id: 927
categories:
  - Solution
date: 2018-03-05 20:25:18
---

思考一下可以发现，两个点连边不过圆，即两个点之间有连边的充要条件，当且仅当两个点对于圆的切线弧之间有交且不含。那么我们将切线交点按照极角排序以转化为线性，对于一个团内的点定有$l\_i<l\_{i+1}<l_{i+2}<...<l_{i+k}<r\_i<r\_{i+1}<r_{i+2}<...<r_{i+k},k$为团的大小。按照做端点l排序以后这就转化成了LIS问题。我们枚举一个起始左端点l，用树状数组或者单调栈即可求得最长上升子序列。简单（啊呸）统计即可以得到答案。