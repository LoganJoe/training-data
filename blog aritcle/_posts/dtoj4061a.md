---
title: " DTOJ4061A\t\t"
tags:
  - 凸包
url: 5413.html
id: 5413
categories:
  - DTOJ
  - Solution
date: 2018-12-10 20:05:44
---

我们要最大化$ax^2+bx$，相当于对于$x>0$最大化$ax+b$，对于$x<0$最小化$ax+b$，对于$x=0$答案就是$0$了可以不用管。 而$ax+b$就相当于一条直线。 也就是说，我们用$y$轴将平面分成两半，在左边我们要维护一个下凸壳，在右边我们要维护一个上凸壳。 给直线按斜率排序再拿个单调栈维护，即可求出凸壳。 求出凸壳后，每次询问相当于在凸壳上二分，当然也可以离线后直接推指针。 求凸壳的细节有点多，要注意一下。 时间复杂度$\\Theta(n\\log n)$。