---
title: " DTOJ1454作诗\t\t"
tags:
  - 分块
url: 2151.html
id: 2151
categories:
  - Solution
date: 2018-05-28 20:57:48
---

既然区间统计并且要求强制在线，这个可以用莫队解决的问题我们可以考虑分块。 首先可以预处理从第i个块开始，向后到某一个块，出现偶数次的数字个数。这个东西可以另外开一个数组f，记录每个块中的每个数字出现次数来解决。之后对于每个查询，首先可以知道跨度块的答案，接下来对于零散块依次统计，可以将f前缀和化然后处理对答案的影响。