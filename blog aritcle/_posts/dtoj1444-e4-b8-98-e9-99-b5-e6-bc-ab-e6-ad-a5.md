---
title: " DTOJ1444丘陵漫步\t\t"
tags:
  - 奇技淫巧
url: 3589.html
id: 3589
categories:
  - DTOJ
  - Solution
date: 2018-08-26 14:01:41
---

我们发现题目给了很多优秀的性质：$x\_1<x\_2,y\_1<y\_2$且线段不会相交。 我们考虑从横坐标为$x$的位置落下去会掉到哪。 显然所有$x\_1\\leq x$且$x\_2>x$的山丘都有可能。 而落到的山丘就是这些山丘中当前山丘下方的第一个。 我们可以用大小关系来表示这些山丘的上下关系。 然后我们用set维护和下落位置有交的山丘，每次查询的时候在set中upper_bound一下即可。 set重载小于号居然要特判$t1.id=t2.id$的情况否则就凉了，真是涨知识了。 Jyc大佬硬是用暴力分讨+线段树过掉了此题%%%