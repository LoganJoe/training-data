---
title: " DTOJ3941WBS的豪华游艇\t\t"
tags:
  - 思路
url: 4236.html
id: 4236
categories:
  - Solution
date: 2018-10-19 16:32:22
---

这题题意有问题。在原题中$1$号游艇会和$0$号超级点连边。具体原题的意思在codeforces gym 100553I。

不如我们直接考虑原题要怎么写。

有了第一行的限制，我们发现，这样子游艇的编号在数轴上一定是先增再减的。不妨对于现在的序列，求一个先上升再下降的最长子序列，这个子序列就是可以保留下来的游艇数量。这个东西用树状数组求一下所有结尾然后取最大的就可以了。

具体这个为什么会是这样的，我们大概画一下连线的样子，大概是一个回环状的一个线性的东西。那么所谓的调整也是要尽量调整成这样的。那么先上升再下降的子序列就是可以保留下来的最多的游艇了。