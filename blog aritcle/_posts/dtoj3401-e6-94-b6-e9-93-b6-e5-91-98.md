---
title: " DTOJ3401收银员\t\t"
tags:
  - 差分约束
url: 3802.html
id: 3802
categories:
  - Solution
date: 2018-09-03 17:05:31
---

考虑二分那个答案然后判定。

但是判定并不是很好做。考虑将所有限制表示成差分约束的限制。

设$s_i$为前$i$时刻雇佣收银员数量的前缀和。

那么对于一种方案，合法的充要条件是

$$\\begin{cases} s\_i-s\_{i-8} \\geq a\_i & i>8 \\\s\_i+ans-s_{i+16} \\geq a_i & Otherwise \\end{cases} $$

$$s\_i-s\_{i-1} \\geq 0 $$ $$ s\_i-s\_{i-1} \\leq b\_i $$ $$ s\_24-s_0=ans$$

那么我们建立25个点，分别表示25个变量$s\_0 ... s\_{24}$，建出差分约束的边，然后用spfa走最长路判定差分约束系统是否合法即可。