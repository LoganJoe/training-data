---
title: " DTOJ3821十字路口\t\t"
tags:
  - 思路
url: 2795.html
id: 2795
categories:
  - DTOJ
  - Solution
  - 不会证
date: 2018-07-19 10:14:45
---

对于一个灯，它在两次观测中都是红的，那么我们就可以知道从其中一个观测到另一个观测经过了多久（模意义下）。 我们拿观测当作点。通过灯将两个观测连一条有向边，边权是经过的时间（模意义下）。 这样图中的最小环就是周期（因为保证有解）。 但找环的效率不能接受。 我们可以优化一下建图。 对于每个灯，使观测按这个灯变绿时间排序从小到大排序，然后只连相邻两个观测的边。 然后题解说这样可以证明，任意一个简单环的长度都是周期。但我不会证。 那么dfs找环即可。