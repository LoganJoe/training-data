---
title: " DTOJ3579escape\t\t"
tags:
  - 无标签
url: 1226.html
id: 1226
categories:
  - DTOJ
  - Solution
date: 2018-03-24 21:21:30
---

人和怪走的速度是一样的，那么从$1$走到$x$，除了沿路的怪，剩下的怪肯定是先走到$1$到$x$的路径上且和人相向而行，否则如果在人之后将永远追不上。那么我们可以认为怪一直往上走而人一直往下走。 考虑每个点的怪在哪些点作为终点的时候人会遇到，显然这个点和$1$路径的中点是这个点的怪和人相遇的位置。如果人在中点之前已经走去了其他子树，没有往当前点的子树走，那人和当前点的怪就不会遇到。因此，只有终点在以中点为根的子树内才会遇到当前的怪。 那我们对于每个点，找到与$1$的中点，子树打标记即可。