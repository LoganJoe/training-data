---
title: " DTOJ3532老虎机\t\t"
tags:
  - dp
url: 707.html
id: 707
categories:
  - Solution
date: 2018-02-20 10:19:01
---

对于当前取的这台机器,另外只有一台机器会使决策更优.因此我们只需要考虑两台机器的情况. 对于当前这台机器,要取到两个颜色相同的球,最坏情况是取到颜色数+1后结束. 我们考虑当前手上的所有颜色球,其中都有一个在另外一台机器上结束游戏所需要的最小步数.即使一台机器中有许多颜色相同的球,也不会被最坏情况所考虑到,因此我们可以进行去重. 对于某种颜色的球,我们可以获得在所有机器中结束所需代价的最小值,记为f\[i\]. 对于第i台机器，将每种颜色的球按f\[i\]从大到小排序后,我们可以知道,取到f\[i\]最大的球会达成一个最坏情况.我们有一个代价⩽f\[col\[i\]\[j\]\]+j的方案结束，其中col\[i\]\[j\]是第i台机器排序后第j个球的颜色。 那么我们相当于对于手上拥有的一部分球,要令在其他机器上结束游戏所带来的花费最小,那么答案为min(f\[col\[i\]\[j\]+j)。相当于对于第i台机器,当前按照最坏情况取到了这颗球花费步长为j,那么要在其他机器上立即结束,花费f\[col\[i\]\[j\]\]的价值.令这个值最小即是答案.