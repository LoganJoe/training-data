---
title: " DTOJ1281基站选址\t\t"
tags:
  - dp
  - 线段树
url: 1482.html
id: 1482
categories:
  - Solution
date: 2018-04-15 13:46:47
---

对于每个村庄$i$，我们记$st\_i$和$ed\_i$为左右分别与其距离不超过$S\_i$的最远基站。 设$f\[i\]\[j\]$表示前$i$个村子中，建立了$j$个基站且第$i$个村子建设基站，所花费的最小代价。很明显有$f\[i\]\[j\]=c\_i+min{f\[k\]\[j-1\]+cost_{(k,j)}}$，其中，$cost_{(k,j)}$表示$k$有一个基站，$j$有一个基站，$k..j$的补偿代价。我们可以使用线段树来快速计算cost。很显然，j这一维可以滚掉，$f\[i\]$就表示$1...i$中的最小费用。对于在第i个村庄建造第j个基站后，在$\[1,st\[M\]-1\]中加上当前点的补偿费用w\[M\].其中M表示被i覆盖并且没有没i+1覆盖的村庄的起点。总共对于dp是$O(NK)$的，对于每一次有一个logn的查询和修改，总时间复杂度$O(NK logN)$