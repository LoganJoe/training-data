---
title: " DTOJ2504ZCC loves cube\t\t"
tags:
  - dp
  - 思路
url: 3720.html
id: 3720
categories:
  - Solution
date: 2018-08-28 16:49:24
---

正面。是正视图的那面。

所以对于每列都是独立的啊。可以分开计算。

那么记$f\[i\]\[j\]\[k\]$为记这一列放了前$i$排，最高为$j$，放了$k$块的方案数。转移的时候枚举这一排新放的高度：

$$f\[i + 1\]\[max (j, l)\]\[k + l\] \\Leftarrow f\[i\]\[j\]\[k\] $$

然后我们对这个东西做背包。

那么记$g\[i\]\[j\]\[k\]$为放了前$i$列，最高为$j$，放了$k$块的方案数。转移的时候枚举这一排新放的那个：

$$g\[i\]\[s1 + s2\]\[j + k\] \\Leftarrow g\[i\]\[s1 + s2\]\[j + k\] + g\[i - 1\]\[s1\]\[j\] * f\[n\]\[s2\]\[k\]$$

然后枚举第一个颜色是哪种，枚举第一面是有几个，计算最后的答案。