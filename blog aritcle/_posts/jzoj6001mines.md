---
title: " JZOJ6001Mines\t\t"
tags:
  - 思路
  - 线段树
url: 6047.html
id: 6047
categories:
  - Solution
date: 2019-01-16 18:00:25
---

![](http://www.dtenomde.com/wp-content/uploads/2019/01/下载-1-1.png) 首先可以想到的思路是，将地雷被引爆的关系连出来，也即对爆炸半径内的所有点连边，那么建出一张图，引爆一个强连通分量内的任意一个点，这个强连通分量都会被引爆。 所以对于一个强连通分量，只需要引爆其中花费最小的点即可。 然后考虑这些块之间的关系。可以发现将所有强连通分量缩点，点之间有一些连边。假设某个块被引爆，那么这个块连向的部分就会被一并引爆。所以我们只需要对于入度为0的强联通分量，取其最小值即可。每次更新用set维护一下。 然后考虑连边。用线段树优化区间连边，然后对于辅助点的贡献要特别判断。具体就是要在线段树上另外传度数下去。时间复杂度$O(n \\log n)$。