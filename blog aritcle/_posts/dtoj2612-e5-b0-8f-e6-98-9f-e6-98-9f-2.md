---
title: " DTOJ2612小星星\t\t"
tags:
  - 树形dp
url: 3464.html
id: 3464
categories:
  - Solution
date: 2018-08-16 22:29:42
---

求将一棵树塞到一个图上的方案数。

首先我们想一种比较暴力的状压dp。设$f\[i\]\[S\]$为$i$所在的子树，将状态为$S$的点塞到图中的最小方案数。转移需要枚举子集，复杂度过不去。

那么我们转换一种思维方式。我们只去计算对于一个集合S，在树中两点有边的，图中两点也对应有边的方案数。这个东西使用树形DP是O(n^3)的。

但是这个答案需要容斥。因为不保证每个点被且只被映射到一次，所以最后的答案需要-1容斥一下。