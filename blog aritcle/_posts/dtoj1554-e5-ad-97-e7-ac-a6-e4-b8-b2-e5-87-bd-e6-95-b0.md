---
title: " DTOJ1554字符串函数\t\t"
tags:
  - 无标签
url: 4299.html
id: 4299
categories:
  - Solution
date: 2018-10-21 15:23:17
---

对于一个位置$i,j$，满足$A\_i=B\_j$:

如果$i<j$,那么对答案的贡献按理就是$i*(n-j+1)$；如果$i>j$，那么对答案的贡献就是$j*(n-i+1)$。

不妨分别用一个前缀和和一个后缀和统计某一字母的$\\sum_pos$，就可以方便的统计答案了。

最后期望就是拿$\\sum i^2=\\frac{n(n+1)(2n+1)}{6}$去除这个就是相应的期望。