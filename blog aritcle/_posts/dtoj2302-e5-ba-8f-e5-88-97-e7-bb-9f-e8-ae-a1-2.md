---
title: " DTOJ2302序列统计\t\t"
tags:
  - NTT
url: 3765.html
id: 3765
categories:
  - Solution
date: 2018-08-30 18:10:04
---

题目要我们满足的条件是$\\prod_{i=1}^{n}a_i \\equiv x \ (mod \ m)$

这个东西的计数貌似十分困难。但是我们想到，既然$m$是一个质数，其必然存在原根$g$，使得$\\forall x \\in \[0,m-1\]$，存在一个$k \\in\[0,m-2\]$，使得$g^k \\equiv x \ (mod \ m)$。

那么我们要算的就变成了满足$\\sum_{i=1}^{n}a_i \\equiv x' \ (mod \ m-1)$的序列个数。

这个东西的话，我们可以令$f\[i\]\[j\]$表示前$i$个，和在模意义下为$j$的方案数。转移的时候发现每次转移都是一样的，于是我们将$f\[i\]$看做一个多项式，然后$NTT$加速转移，快速幂优化一下。