---
title: " DTOJ3955Bajtocja\t\t"
tags:
  - hash
url: 4446.html
id: 4446
categories:
  - iftest614
date: 2018-10-23 21:36:45
---

可以想到的是，我们对于每张图都可以用并查集维护连通性。

那么我们对于每张图建立并查集，然后用启发式合并，每个联通块记一下联通块内点，合并一下$O(dn\\log n)$。

考虑如何判断两个点在所有图中是否在同一个联通块内。

hash每个联通块。那么对于两个点，假设两点在所有图中都在同一联通块内，那么其编号都相同。

于是我们将所有的编号hash，对于每个点，将其在每张图内的编号hash值hash起来。如果两个点的hash值相同，则两点联通。记录每个hash的数量。那么就可以在相应复杂度内计算答案了。