---
title: " DTOJ3979荔枝丹\t\t"
tags:
  - 思路
  - 构造
url: 4919.html
id: 4919
categories:
  - DTOJ
  - Solution
date: 2018-11-01 12:44:06
---

数字最多只有$18$位，显然组数不会很多。 我们写个暴力搜一下，发现最多只有$10^6$左右组。 那么我们只要判断$\[L,R\]$中是否存在某组。 我们把$L$和$R$低位对齐，记$A\_i$为$L$从高到低第$i$位，$B\_i$为$R$从高到低第$i$位。 那么就是要是判断是否能用这组组成一个数字，使得这个数$\\in\[L,R\]$。 考虑构造这个数字。 假设我们当前构造到第$i$位，然后分类讨论。

*   如果之前构造的数字和$L,R$的前$i$位都相同，考虑能否放$(A\_i,B\_i)$的数，如果能就可行。否则考虑放$A\_i$或者$B\_i$。如果都放不了就一定不可行。
*   如果之前构造的数字和$L$的前$i$位相同且和$R$的前$i$位不同，那么这个数就已经$<R$了，我们只需要使它$\\geq L$。考虑能否放$>A\_i$的数，如果能就可行。否则考虑放$A\_i$。如果都放不了就一定不可行。
*   如果之前构造的数字和$R$的前$i$位相同且和$L$的前$i$位不同，那么这个数就已经$>L$了，我们只需要使它$\\geq R$。考虑能否放$<B\_i$的数，如果能就可行。否则考虑放$B\_i$。如果都放不了就一定不可行。

用这样的构造方法判断一共有多少组是可行的即可。 注意数字中可以出现$0$，那我们爆搜组的时候也要考虑$0$。为了不算重，需要要求每组都一定有$n$个数字（$n$是$R$的位数）。