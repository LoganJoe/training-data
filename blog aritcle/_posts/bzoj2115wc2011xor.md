---
title: " BZOJ2115[Wc2011]Xor\t\t"
tags:
  - 线性基
url: 2996.html
id: 2996
categories:
  - BZOJ
  - Solution
date: 2018-04-27 10:43:36
---

答案一定是由任意一条$1$到$n$的路径异或和再异或上若干个简单环异或和。 先解释一下为什么可以异或上简单环。 我们可以从$1$号点出发，走到一个简单环，绕环一圈，再原路返回。这样除了环，每条边都被走了两次，因此这些边的异或和就抵消了。只剩下了环的异或和。 再解释一下为什么是任意一条$1$到$n$的路径。 如果有多条$1$到$n$的路径，必然会形成一个简单环。那么其中一条$1$到$n$的路径和几个环的异或一定能变成另一条$1$到$n$的路径异或和。 那么我们只要dfs一遍求出所有简单环的异或和，然后建出线性基，和$1$到$n$的路径异或和异或出一个最大值即可。