---
title: " DTOJ1431免费回文号码\t\t"
tags:
  - 数位dp
url: 4430.html
id: 4430
categories:
  - Solution
date: 2018-10-23 19:48:08
---

$我们不妨直接考虑数位dp。 考虑回文的样子。有相邻两位相同或者间隔两位相同，就是一个回文了。 $f\[i\]\[j\]\[k\]\[0/1\]$表示当前（从高到低）做到第$i$位，不考虑前导零，前两位分别为$j,k$，之前是否顶到边界。枚举下一位$l$，那么有： $$f\[i\]\[j\]\[k\]\[t\] \\rightarrow f\[i+1\]\[k\]\[l\]\[t&(l==A\[i+1\])\]$$ 然后现在求出了位数为$len$，$R$的限制为$A\[\]$的方案数。考虑计算数位不满的方案数。 那么直接令长度变小，$A\[\]$填充为全$9$，就可以算出数位不满（有前导零）的方案数了。