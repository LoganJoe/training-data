---
title: " DTOJ3594Compass Card Sales\t\t"
tags:
  - 无标签
url: 1395.html
id: 1395
categories:
  - DTOJ
  - Solution
date: 2018-04-10 21:19:43
---

对于每种颜色分开考虑。按角度从小到大排序后，很容易求出一个角度前一张卡和后一张卡之间的角度。如果要删除的话，可以对每个颜色开一个链表或set维护。为了方便地处理绕一圈的角度，可以将链表的头和尾连在一起变成一个奇怪的东西。 然后拿一个堆实时维护最小的独特值即可。 注意如果两张卡某个颜色的角度相同，此时这个角度前一张卡和后一张卡的角度是$0$。但如果前一张卡和后一张卡角度相同，两张卡之间的角度是$360$。