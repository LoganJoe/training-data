---
title: " DTOJ3978六月\t\t"
tags:
  - dp
  - 思路
url: 4860.html
id: 4860
categories:
  - Solution
date: 2018-10-31 13:31:51
---

考虑如何确定左端点以后找到一个合法的右端点。 $f\[i\]$为从$A$串中正序取到$B$串前$i$个字符，结束点的最早（最小）位置。 $g\[i\]$为从$A$串中倒序取到$B$串后$i$个字符，结束点的最早（最大）位置。 那么要使得$B$删去以后成为$A$的子序列，删去区间$\[l,r\]$满足$f\[l\]<g\[r\]$。 那么我们可以顺序扫一遍，用树状数组维护$f\[i\]$的前缀位置最大值。每次将$i$插入$f\[i\]$位置，并且查询$\[1,g\[i\]-1\]$中的pos最大值。那么合法的最小区间为$\[pos+1,i-1\]$。 对于$i-pos-1$取最小值就可以取到答案了。