---
title: " DTOJ2757小y的密码\t\t"
tags:
  - 思路
url: 408.html
id: 408
categories:
  - DTOJ
  - Solution
date: 2018-01-24 21:13:10
---

发现$Lim$限制的是与数位有关的，$n$最多只有$10$位，又由于要从小到大排序，会有很多数排序完后的数组是一样的。通过dfs搜索发现不同的种类大约为$4e5$。 因此我们可以找出所有排完序后合法的数组，分别计算有多少个合法的数排序完是这个数组。 记$cnt\[i\]$这个数有多少个数位为$i$，$tot=\\sum_{i=0}^{i\\leqslant 9}cnt\[i\]$。若$tot<n$，则无论怎么排序形成的数都是合法的，粗略感觉方案数是$tot!$。但发现这会有重复，两个相同的数交换位置会被重复计算，因此方案数其实是$\\frac{tot!}{\\prod_{i=0}^{i\\leqslant 9}cnt\[i\]!}$。 若$tot=n$，则我们枚举枚举第一位比$n$小的位置，低位继续用同样的方案计算方案数即可。