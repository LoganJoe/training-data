---
title: " DTOJ3632贪婪人\t\t"
tags:
  - dp
  - 多项式
  - 奇技淫巧
url: 2098.html
id: 2098
categories:
  - Solution
date: 2018-05-27 18:10:37
---

这题的题解告诉我是要对N\*M的网格压成S\*W的网格然后做dp.. 然而并不会。 先考虑原来那个朴素的dp：$F\[i\]\[j\]\[k\]$表示走到第i行第j列的这个位置，到当前的路径上权值和为k的方案数。这个东西的转移是$O(N\*M\*S)$的。 我们将$f\[i\]\[j\]\[\]$看做是一个$S$次多项式。那么每次转移相当于是乘上一个多项式。 那么对于当前某个位置$(i,j)$,就是从上一个位置$(i,j-1)$，向右走一步就是乘上一个多项式$f$，$f=\\sum_{i=0}^{S}(i+1)x$,或是从上一个位置$(i-1,j)$,向下走一步就是乘上一个多项式$g$,$g=\\sum_{i=0}^{S}ix$,并次数界关于S取模。 那么对于边界的任意一个位置，我们均可以计算出$f\[i\]\[j\]\[k\]$。最后乘上一个组合数表示中间向右和向下走可以穿插的方案数，与之前的朴素$dp$式子一样计算贡献即可。