---
title: " DTOJ1200玄武密码\t\t"
tags:
  - AC自动机
url: 5860.html
id: 5860
categories:
  - DTOJ
  - Solution
date: 2018-12-29 15:17:27
---

我们对文字集合建AC自动机，然后用母串在AC自动机上匹配，并对所有经过的点打一个标记。 匹配完后，我们依次枚举每段文字的每个前缀，然后去找最长的有出现过的前缀。 如果一个前缀在fail树上的子树中有被标记过的点，那么这个前缀就有出现过。 我们预处理的时候dfs一遍fail树，就可以求出哪些点的子树中有被标记过的点了。