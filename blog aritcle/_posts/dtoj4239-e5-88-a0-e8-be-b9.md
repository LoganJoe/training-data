---
title: " DTOJ4239删边\t\t"
tags:
  - hash
  - 思路
url: 7077.html
id: 7077
categories:
  - DTOJ
  - Solution
date: 2019-03-21 22:40:52
---

我们在图的生成树上考虑这个问题。 如果删完后图不连通，那么我们删的要么是两条树边，要么是一条树边和一条非树边。 先考虑删两条树边的情况。 如果其中一条是割边，也就是没有被任何非树边覆盖的边，那么删掉割边后一定不连通，因此另一条边可以随便选。 否则，两条树边一定一起在一条根到某个点的路径上，并且删完这两条边后，这两条边之间的那些点与其他点是不连通的。也就是说，不存在非树边，连接了两条树边中间的点和外界。那么，覆盖这两条树边的非树边的集合一定是一样的。 对于每条树边，我们hash覆盖它的非树边集合，容易在一次dfs中求出。那么，hash值相同的两条边就是可以一起选的，我们计算出每种hash值的出现次数即可。 割边也可以认为是hash值为$0$的树边。