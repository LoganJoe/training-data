---
title: " DTOJ2407orzzcz\t\t"
tags:
  - 博弈
  - 思路
url: 3818.html
id: 3818
categories:
  - DTOJ
  - Solution
date: 2018-09-03 21:26:27
---

开始手模一下$n$小的情况。 然后我们发现，当$n$为偶数，且石子堆可以两两分组且每组石子个数相同时，先手必败。而其他的情况都是先手必胜。 先解释一下为什么这样先手必败，因为后手可以做和先手一样的操作，即后手抵消先手，那么先手就必败了。 接着考虑为什么除了这种情况先手必胜。我们可以证明任何局面都能通过一步操作转化成先手必败的局面。 如果$n$为奇数，我们考虑把最多的一堆分配给其他堆，使得其他堆个数两两相同。这样一定是可行的，为什么呢？ 考虑按石子个数从小到大排序，相邻的成一组，那么我们就是要补第$1,3,5…,n-2$堆。 把每堆石子个数映射在数轴上，$2$比$1$、$4$比$3$、$6$比$5$、……、$n-1$比$n-2$多的部分，投影到数轴上是很多段不连续的区间，且一定小于等于第$n$堆的数量。 如果$n$为偶数，我们把最多的一堆变成和最少的一堆一样多，和$n$为奇数的情况同理可以证明是可行的。