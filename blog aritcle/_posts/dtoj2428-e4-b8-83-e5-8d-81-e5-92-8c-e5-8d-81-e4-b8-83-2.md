---
title: " DTOJ2428七十和十七\t\t"
tags:
  - 思路
url: 2381.html
id: 2381
categories:
  - Solution
date: 2018-06-13 21:27:17
---

我们想到，实际上相当于对于n-1个数的有序中再插入一个数。假设当前这个数为$a\_i$,那么需要进行$2^{a\_i-1}$次排序操作。则我们枚举当前序列长度和插入的数，会有$ans=\\sum_{i=1}^n\\sum_{j=1}^{i-1}2^{j-1}$。 化简一下最后一维为等比数列求和，那么$ans=\\sum_{i=1}^n\\frac{2^{i-1}-1}{i}$。效率￥O(n)￥。