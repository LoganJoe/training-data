---
title: " 1060moreD学FIB\t\t"
tags:
  - dp
url: 3212.html
id: 3212
categories:
  - Solution
date: 2018-08-01 14:01:46
---

鉴于$n$的数据范围，最多只会有87个fib。 把整数$n$用fib数分解，从大到小能减就减。这是存在的一个方案，而且是从高位到低位的字典序最大的方案(若用0表示未取，1表示取了的话)。 那么我们现在记拆出了$cnt$个数，第$i$个数是$b_i$。 然后既然这个是字典序最大的方案，由于fib序列的性质，一定是拆成之前比他小的数对吧。 $f\[i\]$表示前$i$个拆某些的方案数，$g\[i\]$表示前i个拆某些，且一定拆$i$的方案数。 记$P=b\[i\]-b\[i-1\]-1$，那么 $$ f\[i\]=\\left\\{ \\begin{matrix} (\\frac{P}{2}+1)\*f\[i-1\] & P \ mod\ 2=0 \\newline (\\frac{P}{2}+1)\*f\[i-1\]+g\[i-1\] & P \ mod \ 2=1 \\end{matrix} \\right. $$ 其中 $$ g\[i\]=f\[i\]-f\[i-1\] $$ $f\[cnt\]$即是答案。