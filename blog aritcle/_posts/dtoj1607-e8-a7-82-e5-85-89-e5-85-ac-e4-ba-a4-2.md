---
title: " DTOJ1607观光公交\t\t"
tags:
  - 贪心
url: 5044.html
id: 5044
categories:
  - DTOJ
  - Solution
date: 2018-11-04 23:19:56
---

记$t\_i$为到达第$i$号景点的时间。我们的目的就是要让$\\sum\_{i=1}^{m}t_{B\_i}-T\_i$最小。 记目的地为$i$的乘客有$cnt\_i$位。那么如果$t\_i-1$了，答案就会减小$cnt\_i$。 记从$i$出发的乘客的最晚到达时间为$Max\_i$。 我们给一个$D\_i-1$后，后面有连续的一段$t\_i$会$-1$，直到以某个$t\_i\\leq Max\_i$的点结束。 我们贪心地想，我们每次使用加速器都要使答案减小的最多。 那么我们每次扫一遍，找到合法（除最后一位都满足$t\_i>Max\_i$）的$\\sum cnt\_i$最大的区间，然后用加速器使这段$t\_i$都$-1$，并且使加速的那条边的边权也$-1$。 如此做$k$次即可。 注意小心判断不能使用加速器的情况。 时间复杂度$\\Theta(nk)$。