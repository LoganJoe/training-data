---
title: " DTOJ3930归途\t\t"
tags:
  - 最短路
url: 4027.html
id: 4027
categories:
  - Solution
date: 2018-09-23 12:21:00
---

明显答案可以二分。于是每次二分答案，然后选择不经过超过答案的点，跑bfs的同时满足经过的限制。最后判断最短路是否超过$T+L$即可。每次bfs时每条边只会过一遍，所以效率应该是O(m log m)的。

但是其实有其他做法。就是暴力bfs，记一个四元组$(fa,x,dis,maxw)$表示bfs到当前点的状态。容易发现适当优化后每个点进队不会超过$n$次，所以这个效率是对的。