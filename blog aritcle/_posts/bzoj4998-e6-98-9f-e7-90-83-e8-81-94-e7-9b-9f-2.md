---
title: " BZOJ4998星球联盟\t\t"
tags:
  - 并查集
  - 思路
url: 6762.html
id: 6762
categories:
  - Solution
date: 2019-03-03 14:52:58
---

这根数据结构有个啥子关系啊？ 考虑并查集维护这个过程。实际上的，我们要求的就是点双联通分量。假设两个点已经联通，那么新加的这条边会沟通两个联通块，形成双联通分量。 我们先加入所有初始和询问中的非前向边，构成一棵生成树。之后我们考虑某条边形成横叉边，那么相当于与树上对应路径形成一个点双联通分量。我们在树上暴力跳，将这些点缩在一起，并且在另外一个点双联通分量的并查集内将这些点联通。那么这个时候我们在点双联通分量的并查集内顺便记录联通块大小，就是所求的双联通块大小了。